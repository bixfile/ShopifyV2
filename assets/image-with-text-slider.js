customElements.get("image-with-text-slider")||customElements.define("image-with-text-slider",class extends HTMLElement{constructor(){super()}connectedCallback(){this.enableSlider=this.dataset.enableSlider==="true",this.swipers=this.querySelectorAll(".swiper"),this.sliderControls=this.querySelector(".swiper-controls"),this.sectionId=this.dataset.sectionId,this.selectedIndex=this.selectedIndex,this.swiperInstances=[],this.enableSlider&&this.initSlider()}static get observedAttributes(){return["selected-index"]}get selectedIndex(){return parseInt(this.getAttribute("selected-index"))||0}set selectedIndex(index){this.setAttribute("selected-index",`${index}`)}initSlider(){const additionModules=[FoxTheme.Swiper.Autoplay,FoxTheme.Swiper.EffectFade];this.swipers.forEach(swiper=>{const autoplayDelay=parseInt(swiper.dataset.autoplay),sliderOptions={slidesPerView:1,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},...this.sliderControls&&{navigation:{nextEl:this.sliderControls.querySelector(".swiper-button-next"),prevEl:this.sliderControls.querySelector(".swiper-button-prev")}},pagination:{el:this.querySelector(".swiper-pagination"),clickable:!0},on:{init:this.handleAfterInit.bind(this)},...autoplayDelay>0&&{autoplay:{delay:autoplayDelay,disableOnInteraction:!1}}},sliderInstance=new window.FoxTheme.Carousel(swiper,sliderOptions,additionModules);sliderInstance.init(),this.swiperInstances.push(sliderInstance),this.updateActiveSlide(sliderInstance.slider),sliderInstance.slider.on("realIndexChange",swiperInstance=>{this.handleSlideChange(swiperInstance,swiper)}),sliderInstance.slider.on("slideChange",()=>{const currentIndex=sliderInstance.slider.realIndex;this.swiperInstances.forEach(instance=>{instance.slider!==sliderInstance.slider&&instance.slider.slideToLoop(currentIndex)})})}),Shopify.designMode&&document.addEventListener("shopify:block:select",e=>{if(e.detail.sectionId!==this.sectionId)return;const index=Number(e.target.dataset.index);this.swiperInstances.forEach(instance=>{instance&&instance.slider&&instance.slider.slideToLoop(index),this.updateActiveSlide(instance.slider)})})}updateActiveSlide(slider){const{slides,activeIndex}=slider;this.updateControlsScheme(slides[activeIndex]),this.updateContentScheme(slides[activeIndex]),this.updateControlsPadding(slides[activeIndex])}onReady(selectedElement){FoxTheme.config.motionReduced||selectedElement.querySelectorAll("motion-element").forEach(motionEl=>{motionEl&&motionEl.refreshAnimation()})}handleAfterInit(){if(this.sliderControls){const activeBullet=this.sliderControls.querySelector(".swiper-pagination-bullet-active");activeBullet&&(activeBullet.classList.remove("swiper-pagination-bullet-active"),activeBullet.offsetHeight,activeBullet.classList.add("swiper-pagination-bullet-active"))}}handleSlideChange(swiper){const{slides,realIndex,activeIndex}=swiper;this.selectedIndex=realIndex,this.updateControlsScheme(slides[activeIndex]),this.updateContentScheme(slides[activeIndex]),this.updateControlsPadding(slides[activeIndex])}attributeChangedCallback(name,oldValue,newValue){if(name==="selected-index"&&oldValue!==null&&oldValue!==newValue){const fromElements=this.querySelectorAll(`[data-swiper-slide-index="${oldValue}"]`),toElements=this.querySelectorAll(`[data-swiper-slide-index="${newValue}"]`);fromElements.forEach(fromElement=>{const motionEls=fromElement.querySelectorAll("motion-element");motionEls&&motionEls.forEach(motionEl=>{motionEl.hasAttribute("data-text")&&motionEl.resetAnimation()})}),toElements.forEach(toElement=>{setTimeout(()=>{toElement.classList.contains("swiper-slide-active")&&toElement.querySelectorAll("motion-element").forEach(motionEl=>{motionEl&&motionEl.refreshAnimation()})})})}}updateControlsScheme(activeSlide){if(this.sliderControls){Array.from(this.sliderControls.classList).filter(className=>className.startsWith("color-")).forEach(className=>this.sliderControls.classList.remove(className));const colorScheme=activeSlide.dataset.colorScheme;this.sliderControls.classList.add(colorScheme)}}updateContentScheme(activeSlide){Array.from(this.querySelector(".image-slider__content").classList).filter(className=>className.startsWith("color-")).forEach(className=>this.querySelector(".image-slider__content").classList.remove(className));const colorScheme=activeSlide.dataset.colorScheme;this.querySelector(".image-slider__content").classList.add(colorScheme)}updateControlsPadding(activeSlide){if(this.sliderControls){Array.from(this.sliderControls.classList).filter(className=>className.startsWith("color-inherit")).forEach(className=>this.sliderControls.classList.remove(className));const paddingCustom=activeSlide.dataset.padding==="custom";this.sliderControls.classList.toggle("color-inherit",paddingCustom)}}});
//# sourceMappingURL=/cdn/shop/t/16/assets/image-with-text-slider.js.map?v=44602323554159540991752820460
